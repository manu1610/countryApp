import{A as p,B as P,C as K,D as Q,E as F,F as W,G as L,H as g,I as X,J as Y,K as Z,L as ee,Q as te,S as ie,T as ne,U as $,X as x,Y as w,_ as oe,a as N,b as U,c as O,d as A,e as C,f as q,g as _,h as V,i as h,j as T,k as z,l as J,m as H,n as B,o as c,p as f,q as m,r as d,s as a,t as r,u as l,v as G,w as b,x as E,y as R,z as s}from"./chunk-SEDQPN22.js";var y=(()=>{let e=class e{constructor(i,n){this.platformId=i,this.http=n,this.apiUrl="https://restcountries.com/v3.1",this.cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}},Z(this.platformId)&&this.loadFromLocalStorage()}saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadFromLocalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}getCountriesRequest(i){return this.http.get(i).pipe(O(()=>N([])))}searchCountryByAlphaCode(i){let n=`${this.apiUrl}/alpha/${i}`;return this.http.get(n).pipe(U(o=>o.length>0?o[0]:null),O(()=>N(null)))}searchCapital(i){let n=`${this.apiUrl}/capital/${i}`;return this.getCountriesRequest(n).pipe(C(o=>this.cacheStore.byCapital={term:i,countries:o}),C(()=>this.saveToLocalStorage()))}searchCountry(i){let n=`${this.apiUrl}/name/${i}`;return this.getCountriesRequest(n).pipe(C(o=>this.cacheStore.byCountries={term:i,countries:o}),C(()=>this.saveToLocalStorage()))}searchRegion(i){let n=`${this.apiUrl}/region/${i}`;return this.getCountriesRequest(n).pipe(C(o=>this.cacheStore.byRegion={region:i,countries:o}),C(()=>this.saveToLocalStorage()))}};e.\u0275fac=function(n){return new(n||e)(V(H),V(ee))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ue(t,e){t&1&&(a(0,"div",2),s(1,` No hay pa\xEDses que mostrar
`),r())}var de=t=>["/countries/by",t];function he(t,e){if(t&1&&(a(0,"tr")(1,"td"),s(2),r(),a(3,"td"),s(4),r(),a(5,"td"),l(6,"img",5),r(),a(7,"td"),s(8),r(),a(9,"td"),s(10),r(),a(11,"td"),s(12),r(),a(13,"td")(14,"a",6),s(15,"Info"),r()()()),t&2){let u=e.$implicit,i=e.index;c(2),p(" ",i+1,""),c(2),p(" ",u.flag,""),c(2),m("src",u.flags.svg,B)("alt",u.name.common),c(2),p(" ",u.name.common,""),c(2),p(" ",u.capital,""),c(2),p(" ",u.population,""),c(2),m("routerLink",P(8,de,u.cca3))}}function fe(t,e){if(t&1&&(a(0,"table",3)(1,"thead")(2,"tr")(3,"th"),s(4," # "),r(),a(5,"th"),s(6," Icon "),r(),a(7,"th"),s(8," Bandera "),r(),a(9,"th"),s(10," Nombre "),r(),a(11,"th"),s(12," Capital "),r(),a(13,"th"),s(14," Poblaci\xF3n "),r(),l(15,"th"),r()(),d(16,he,16,10,"tr",4),r()),t&2){let u=E();c(16),m("ngForOf",u.countries)}}var I=(()=>{let e=class e{constructor(){this.countries=[]}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=h({type:e,selectors:[["countries-table"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],["table",""],[1,"alert","alert-warning","text-center"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"src","alt"],[3,"routerLink"]],template:function(n,o){if(n&1&&d(0,ue,2,0,"div",0)(1,fe,17,1,"ng-template",null,1,F),n&2){let v=R(2);m("ngIf",o.countries.length===0)("ngIfElse",v)}},dependencies:[L,g,ne],styles:["img[_ngcontent-%COMP%]{width:35px}"]});let t=e;return t})();function ye(t,e){t&1&&l(0,"shared-loading-spinner")}var ae=(()=>{let e=class e{constructor(i){this.countriesService=i,this.countries=[],this.initialValue="",this.isLoading=!1}ngOnInit(){this.initialValue=this.countriesService.cacheStore.byCapital.term,this.countries=this.countriesService.cacheStore.byCapital.countries}searchByCapital(i){this.isLoading=!0,this.countriesService.searchCapital(i).subscribe(n=>{this.countries=n,this.isLoading=!1})}};e.\u0275fac=function(n){return new(n||e)(f(y))},e.\u0275cmp=h({type:e,selectors:[["countries-by-capital-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por capital",3,"initialValue","onDebounce"],[4,"ngIf"],[3,"countries"]],template:function(n,o){n&1&&(a(0,"h2"),s(1,"Por Capital"),r(),l(2,"hr"),a(3,"div",0)(4,"div",1)(5,"shared-search-box",2),b("onDebounce",function(j){return o.searchByCapital(j)}),r()()(),a(6,"div",0)(7,"div",1),l(8,"hr"),d(9,ye,1,0,"shared-loading-spinner",3),l(10,"countries-table",4),r()()),n&2&&(c(5),m("initialValue",o.initialValue),c(4),m("ngIf",o.isLoading),c(1),m("countries",o.countries))},dependencies:[g,x,w,I],encapsulation:2});let t=e;return t})();function ve(t,e){t&1&&l(0,"shared-loading-spinner")}var se=(()=>{let e=class e{constructor(i){this.countriesService=i,this.countries=[],this.initialValue="",this.isLoading=!1}ngOnInit(){this.initialValue=this.countriesService.cacheStore.byCountries.term,this.countries=this.countriesService.cacheStore.byCountries.countries}searchByCountry(i){this.isLoading=!0,this.countriesService.searchCountry(i).subscribe(n=>{this.countries=n,this.isLoading=!1})}};e.\u0275fac=function(n){return new(n||e)(f(y))},e.\u0275cmp=h({type:e,selectors:[["countries-by-country-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por pa\xEDs",3,"initialValue","onDebounce"],[4,"ngIf"],[3,"countries"]],template:function(n,o){n&1&&(a(0,"h2"),s(1,"Por Pa\xEDs"),r(),l(2,"hr"),a(3,"div",0)(4,"div",1)(5,"shared-search-box",2),b("onDebounce",function(j){return o.searchByCountry(j)}),r()()(),a(6,"div",0)(7,"div",1),l(8,"hr"),d(9,ve,1,0,"shared-loading-spinner",3),l(10,"countries-table",4),r()()),n&2&&(c(5),m("initialValue",o.initialValue),c(4),m("ngIf",o.isLoading),c(1),m("countries",o.countries))},dependencies:[g,x,w,I]});let t=e;return t})();var Ce=t=>({"btn-outline-primary":t});function Se(t,e){if(t&1){let u=G();a(0,"button",5),b("click",function(){let o=z(u).$implicit,v=E();return J(v.searchByRegion(o))}),s(1),r()}if(t&2){let u=e.$implicit,i=E();m("ngClass",P(2,Ce,i.selectedRegion===u)),c(1),p(" ",u," ")}}function be(t,e){t&1&&l(0,"shared-loading-spinner")}var ce=(()=>{let e=class e{constructor(i){this.countriesService=i,this.countries=[],this.isLoading=!1,this.regions=["Africa","Americas","Asia","Europe","Oceania"]}ngOnInit(){this.selectedRegion=this.countriesService.cacheStore.byRegion.region,this.countries=this.countriesService.cacheStore.byRegion.countries}searchByRegion(i){this.selectedRegion=i,this.isLoading=!0,this.countriesService.searchRegion(i).subscribe(n=>{this.countries=n,this.isLoading=!1})}};e.\u0275fac=function(n){return new(n||e)(f(y))},e.\u0275cmp=h({type:e,selectors:[["countries-by-region-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["class","btn mx-2",3,"ngClass","click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"countries"],[1,"btn","mx-2",3,"ngClass","click"]],template:function(n,o){n&1&&(a(0,"h2"),s(1,"Por Regi\xF3n"),r(),l(2,"hr"),a(3,"div",0)(4,"div",1),d(5,Se,2,4,"button",2),r()(),a(6,"div",0)(7,"div",1),l(8,"hr"),d(9,be,1,0,"shared-loading-spinner",3),l(10,"countries-table",4),r()()),n&2&&(c(5),m("ngForOf",o.regions),c(4),m("ngIf",o.isLoading),c(1),m("countries",o.countries))},dependencies:[W,L,g,x,I]});let t=e;return t})();function xe(t,e){t&1&&(a(0,"div",12),s(1," Espere por favor "),r())}function Ie(t,e){t&1&&l(0,"div")}var le=(()=>{let e=class e{constructor(i,n,o){this.activatedRoute=i,this.countriesService=n,this.router=o}ngOnInit(){this.activatedRoute.params.pipe(A(({id:i})=>this.countriesService.searchCountryByAlphaCode(i))).subscribe(i=>i?this.country=i:this.router.navigateByUrl(""))}};e.\u0275fac=function(n){return new(n||e)(f(te),f(y),f(ie))},e.\u0275cmp=h({type:e,selectors:[["countries-country-page"]],decls:44,vars:15,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-2"],[1,"d-flex","flex-wrap"],[1,"badge","bg-primary","mg-1"],[1,"alert","alert-info","text-center"]],template:function(n,o){if(n&1&&(d(0,xe,2,0,"ng-template",null,0,F)(2,Ie,1,0,"div",1),a(3,"div")(4,"div",2)(5,"div",3)(6,"h2"),s(7,"Pa\xEDs: "),a(8,"strong"),s(9),r()(),l(10,"hr"),r()(),a(11,"div",2)(12,"div",4)(13,"h3"),s(14,"Bandera"),r(),l(15,"img",5),r(),a(16,"div",6)(17,"ul",7)(18,"li",8)(19,"strong"),s(20,"Poblaci\xF3n: "),r(),s(21),K(22,"number"),r(),a(23,"li",8)(24,"strong"),s(25,"C\xF3digo: "),r(),s(26),r()()()(),a(27,"div",9)(28,"div",6)(29,"h3"),s(30,"Traducciones"),r(),a(31,"div",10)(32,"span",11),s(33),r(),a(34,"span",11),s(35),r(),a(36,"span",11),s(37),r(),a(38,"span",11),s(39),r(),a(40,"span",11),s(41),r(),a(42,"span",11),s(43),r()()()()()),n&2){let v=R(1);c(2),m("ngIf",o.country)("ngIfElse",v),c(7),p(" ",o.country==null||o.country.name==null?null:o.country.name.common,""),c(6),m("src",o.country==null||o.country.flags==null?null:o.country.flags.svg,B)("alt",o.country==null||o.country.name==null?null:o.country.name.common),c(6),p(" ",Q(22,13,o.country==null?null:o.country.population)," "),c(5),p(" ",o.country==null?null:o.country.cca3," "),c(7),p(" ",o.country.translations.ara.common,""),c(2),p(" ",o.country.translations.bre.common,""),c(2),p(" ",o.country.translations.ces.common,""),c(2),p(" ",o.country.translations.cym.common,""),c(2),p(" ",o.country.translations.jpn.common,""),c(2),p(" ",o.country.translations.kor.common,"")}},dependencies:[g,X]});let t=e;return t})();var Ee=[{path:"by-capital",component:ae},{path:"by-country",component:se},{path:"by-region",component:ce},{path:"by/:id",component:le},{path:"**",redirectTo:"countries/by-capital"}],me=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=T({type:e}),e.\u0275inj=_({imports:[$.forChild(Ee),$]});let t=e;return t})();var tt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=T({type:e}),e.\u0275inj=_({imports:[Y,me,oe]});let t=e;return t})();export{tt as CountriesModule};
